<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador: Agent Mode</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.8em;
            margin-bottom: 15px;
        }

        .nav-tabs {
            display: flex;
            background: #f8fafc;
            border-bottom: 2px solid #e2e8f0;
        }

        .nav-tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            background: transparent;
            font-size: 16px;
            font-weight: 600;
            color: #64748b;
            border-bottom: 3px solid transparent;
        }

        .nav-tab.active {
            color: #059669;
            border-bottom-color: #059669;
            background: white;
        }

        .nav-tab:hover {
            background: #f1f5f9;
        }

        .tab-content {
            display: none;
            padding: 40px;
            min-height: 600px;
        }

        .tab-content.active {
            display: block;
        }

        .agent-demo {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            margin-bottom: 30px;
        }

        .demo-main {
            background: #f8fafc;
            border-radius: 15px;
            padding: 30px;
        }

        .demo-sidebar {
            background: #1e293b;
            color: white;
            border-radius: 15px;
            padding: 25px;
        }

        .demo-title {
            font-size: 1.5em;
            color: #1e293b;
            margin-bottom: 20px;
        }

        .demo-sidebar h4 {
            color: #10b981;
            margin-bottom: 15px;
        }

        .agent-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            margin-bottom: 20px;
            font-family: inherit;
            resize: vertical;
        }

        .agent-input:focus {
            outline: none;
            border-color: #059669;
        }

        .execute-button {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
        }

        .execute-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .agent-log {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.6;
            max-height: 400px;
            overflow-y: auto;
        }

        .log-entry {
            margin-bottom: 10px;
            padding: 8px;
            border-radius: 6px;
        }

        .log-entry.planning {
            background: rgba(16, 185, 129, 0.2);
            border-left: 3px solid #10b981;
        }

        .log-entry.executing {
            background: rgba(59, 130, 246, 0.2);
            border-left: 3px solid #3b82f6;
        }

        .log-entry.success {
            background: rgba(34, 197, 94, 0.2);
            border-left: 3px solid #22c55e;
        }

        .log-entry.error {
            background: rgba(239, 68, 68, 0.2);
            border-left: 3px solid #ef4444;
        }

        .capabilities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .capability-card {
            background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
            border: 1px solid #bbf7d0;
            border-radius: 15px;
            padding: 25px;
            transition: transform 0.3s ease;
        }

        .capability-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .capability-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .capability-title {
            font-size: 1.3em;
            color: #1e293b;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .capability-description {
            color: #64748b;
            line-height: 1.6;
        }

        .tools-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .tool-item {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tool-item:hover {
            border-color: #059669;
            transform: translateY(-3px);
        }

        .tool-item.active {
            background: #059669;
            color: white;
            border-color: #059669;
        }

        .tool-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .tool-name {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .tool-description {
            font-size: 12px;
            opacity: 0.8;
        }

        .workflow-visualization {
            background: #f8fafc;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .workflow-steps {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 30px 0;
        }

        .workflow-step {
            flex: 1;
            text-align: center;
            position: relative;
        }

        .workflow-step:not(:last-child)::after {
            content: '→';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
            color: #10b981;
        }

        .step-circle {
            width: 60px;
            height: 60px;
            background: #10b981;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            margin: 0 auto 15px;
            font-weight: bold;
        }

        .step-title {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
        }

        .step-description {
            font-size: 14px;
            color: #64748b;
        }

        .examples-section {
            margin: 30px 0;
        }

        .example-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            transition: all 0.3s ease;
        }

        .example-card:hover {
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .example-prompt {
            background: #1e293b;
            color: #10b981;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Consolas', monospace;
            margin-bottom: 15px;
        }

        .example-result {
            color: #64748b;
            line-height: 1.6;
        }

        .pro-tips {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .pro-tips h4 {
            margin-bottom: 15px;
        }

        .tip-list {
            list-style: none;
            padding: 0;
        }

        .tip-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .tip-list li:last-child {
            border-bottom: none;
        }

        .comparison-section {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 25px;
            margin: 30px 0;
        }

        .mode-comparison {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .mode-comparison.highlight {
            border-color: #059669;
            background: #f0fdf4;
        }

        .mode-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .mode-title {
            font-size: 1.3em;
            color: #1e293b;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .mode-features {
            text-align: left;
            margin-top: 15px;
        }

        .mode-features li {
            padding: 4px 0;
            color: #64748b;
        }

        .interactive-demo {
            background: #f8fafc;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .demo-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }

        .control-button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .control-button.primary {
            background: #059669;
            color: white;
        }

        .control-button.secondary {
            background: #64748b;
            color: white;
        }

        .control-button:hover {
            transform: translateY(-2px);
        }

        .progress-indicator {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, #059669, #10b981);
            height: 100%;
            width: 0%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🤖 Agent Mode Explorer</h1>
            <p>Descubre el poder de la programación autónoma con Copilot Agent</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab(0)">🚀 Introducción</button>
            <button class="nav-tab" onclick="showTab(1)">🛠️ Herramientas</button>
            <button class="nav-tab" onclick="showTab(2)">💡 Ejemplos</button>
            <button class="nav-tab" onclick="showTab(3)">⚡ Demo Interactivo</button>
            <button class="nav-tab" onclick="showTab(4)">📊 Comparación</button>
        </div>

        <!-- Tab 0: Introducción -->
        <div class="tab-content active">
            <div class="agent-demo">
                <div class="example-card">
                    <h4 style="color: #059669; margin-bottom: 15px;">🧪 Implementar Testing</h4>
                    <div class="example-prompt">
                        "Añade testing completo a mi aplicación: unit tests, 
                        integration tests y E2E tests con coverage reports."
                    </div>
                    <div class="example-result">
                        <strong>Resultado:</strong> Configurará Jest/Vitest, creará tests unitarios para cada componente, 
                        implementará tests de integración para APIs, añadirá tests E2E con Playwright, 
                        configurará coverage y scripts de CI/CD.
                    </div>
                </div>

                <div class="example-card">
                    <h4 style="color: #059669; margin-bottom: 15px;">🏗️ Refactoring Arquitectural</h4>
                    <div class="example-prompt">
                        "Refactoriza esta aplicación monolítica para usar microservicios 
                        con Docker y implementa comunicación via message queues."
                    </div>
                    <div class="example-result">
                        <strong>Resultado:</strong> Analizará la arquitectura actual, separará servicios por dominio, 
                        creará Dockerfiles para cada servicio, configurará docker-compose, 
                        implementará Redis/RabbitMQ para comunicación entre servicios.
                    </div>
                </div>

                <div class="example-card">
                    <h4 style="color: #059669; margin-bottom: 15px;">🔒 Implementar Seguridad</h4>
                    <div class="example-prompt">
                        "Añade seguridad completa: autenticación OAuth, autorización RBAC, 
                        validación de input, rate limiting y logging de seguridad."
                    </div>
                    <div class="example-result">
                        <strong>Resultado:</strong> Implementará OAuth 2.0, creará sistema de roles y permisos, 
                        añadirá middleware de validación, configurará rate limiting, 
                        implementará audit logging y mejorará headers de seguridad.
                    </div>
                </div>

                <div class="example-card">
                    <h4 style="color: #059669; margin-bottom: 15px;">📊 Analytics y Monitoring</h4>
                    <div class="example-prompt">
                        "Implementa analytics completo, monitoring de performance, 
                        alertas automáticas y dashboards en tiempo real."
                    </div>
                    <div class="example-result">
                        <strong>Resultado:</strong> Integrará Google Analytics/Mixpanel, configurará Prometheus + Grafana, 
                        implementará health checks, creará alertas via Slack/email, 
                        añadirá dashboards de métricas de negocio y técnicas.
                    </div>
                </div>
            </div>

            <div class="pro-tips">
                <h4>🎯 Tips para Prompts Efectivos</h4>
                <ul class="tip-list">
                    <li><strong>Sé específico sobre el resultado final:</strong> Describe claramente qué quieres lograr</li>
                    <li><strong>Menciona tecnologías preferidas:</strong> React, Node.js, Python, etc.</li>
                    <li><strong>Incluye requisitos no funcionales:</strong> Performance, seguridad, testing</li>
                    <li><strong>Especifica el alcance:</strong> "Para toda la aplicación" vs "Solo el módulo de users"</li>
                    <li><strong>Deja que Agent planifique:</strong> No microgestiones cada paso</li>
                </ul>
            </div>
        </div>

        <!-- Tab 3: Demo Interactivo -->
        <div class="tab-content">
            <h2 style="text-align: center; margin-bottom: 30px; color: #1e293b;">⚡ Demo Interactivo</h2>
            
            <div class="interactive-demo">
                <h3 style="margin-bottom: 20px;">🎮 Simula Agent Mode en Acción</h3>
                <p style="color: #64748b; margin-bottom: 25px;">
                    Selecciona un escenario y observa cómo Agent Mode planifica y ejecuta la tarea paso a paso.
                </p>

                <div class="demo-controls">
                    <button class="control-button primary" onclick="runScenario('webapp')">
                        🌐 Crear Web App
                    </button>
                    <button class="control-button primary" onclick="runScenario('api')">
                        🔌 Crear API REST
                    </button>
                    <button class="control-button primary" onclick="runScenario('testing')">
                        🧪 Añadir Testing
                    </button>
                    <button class="control-button secondary" onclick="clearDemo()">
                        🔄 Reset
                    </button>
                </div>

                <div class="progress-indicator">
                    <div class="progress-bar" id="demoProgress"></div>
                </div>

                <div class="agent-log" id="interactiveLog" style="height: 300px;">
                    <div class="log-entry">🤖 Selecciona un escenario para comenzar...</div>
                </div>

                <div id="demoResults" style="margin-top: 20px; display: none;">
                    <h4 style="color: #059669; margin-bottom: 15px;">✅ Tarea Completada</h4>
                    <div style="background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 8px; padding: 15px;">
                        <div id="resultSummary"></div>
                    </div>
                </div>
            </div>

            <div class="workflow-visualization">
                <h3 style="text-align: center; margin-bottom: 30px; color: #1e293b;">Configuración de Herramientas</h3>
                <p style="text-align: center; margin-bottom: 25px; color: #64748b;">
                    Haz clic en el icono "Tools" para configurar qué herramientas puede usar Agent Mode.
                </p>

                <div class="tools-showcase">
                    <div class="tool-item active">
                        <div class="tool-icon">🏗️</div>
                        <div class="tool-name">Codebase</div>
                        <div class="tool-description">✅ Habilitado</div>
                    </div>
                    <div class="tool-item active">
                        <div class="tool-icon">⚡</div>
                        <div class="tool-name">Terminal</div>
                        <div class="tool-description">✅ Habilitado</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">🌐</div>
                        <div class="tool-name">Fetch</div>
                        <div class="tool-description">❌ Deshabilitado</div>
                    </div>
                    <div class="tool-item active">
                        <div class="tool-icon">🧪</div>
                        <div class="tool-name">Tests</div>
                        <div class="tool-description">✅ Habilitado</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 4: Comparación -->
        <div class="tab-content">
            <h2 style="text-align: center; margin-bottom: 30px; color: #1e293b;">📊 Agent vs Ask vs Edit</h2>
            
            <div class="comparison-section">
                <div class="mode-comparison">
                    <div class="mode-icon">💬</div>
                    <div class="mode-title">Ask Mode</div>
                    <p style="color: #64748b; margin-bottom: 15px;">Para consultas y aprendizaje</p>
                    <ul class="mode-features">
                        <li>❌ No modifica código</li>
                        <li>⚡ Respuestas rápidas</li>
                        <li>🎯 Consultas específicas</li>
                        <li>📚 Ideal para aprender</li>
                        <li>🔒 Control total</li>
                    </ul>
                </div>

                <div class="mode-comparison">
                    <div class="mode-icon">✏️</div>
                    <div class="mode-title">Edit Mode</div>
                    <p style="color: #64748b; margin-bottom: 15px;">Para cambios controlados</p>
                    <ul class="mode-features">
                        <li>✅ Modifica archivos específicos</li>
                        <li>🎯 Tú defines el alcance</li>
                        <li>👀 Previsualizas cambios</li>
                        <li>🔄 Iteración manual</li>
                        <li>📂 Multi-archivo limitado</li>
                    </ul>
                </div>

                <div class="mode-comparison highlight">
                    <div class="mode-icon">🤖</div>
                    <div class="mode-title">Agent Mode</div>
                    <p style="color: #64748b; margin-bottom: 15px;">Para tareas complejas</p>
                    <ul class="mode-features">
                        <li>✅ Modifica todo el proyecto</li>
                        <li>🧠 Planificación autónoma</li>
                        <li>🛠️ Usa herramientas</li>
                        <li>🔄 Iteración automática</li>
                        <li>🎯 Objetivos de alto nivel</li>
                    </ul>
                </div>
            </div>

            <div style="background: #f8fafc; padding: 30px; border-radius: 15px; margin: 30px 0;">
                <h3 style="color: #1e293b; margin-bottom: 20px; text-align: center;">🎯 Guía de Decisión</h3>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
                    <div>
                        <h4 style="color: #059669; margin-bottom: 15px;">✅ Usa Agent Mode cuando:</h4>
                        <ul style="color: #64748b; line-height: 1.6;">
                            <li>Quieres implementar features completas</li>
                            <li>No estás seguro de todos los pasos</li>
                            <li>Necesitas usar múltiples herramientas</li>
                            <li>Quieres automatizar tareas repetitivas</li>
                            <li>El objetivo es complejo pero claro</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 style="color: #f59e0b; margin-bottom: 15px;">❌ No uses Agent Mode cuando:</h4>
                        <ul style="color: #64748b; line-height: 1.6;">
                            <li>Solo necesitas una explicación</li>
                            <li>Quieres cambios muy específicos</li>
                            <li>Prefieres control total del proceso</li>
                            <li>Trabajas en código muy delicado</li>
                            <li>El proyecto tiene restricciones estrictas</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="pro-tips">
                <h4>🏆 Maximiza Agent Mode</h4>
                <ul class="tip-list">
                    <li><strong>Confía en el proceso:</strong> Deja que Agent planifique y ejecute</li>
                    <li><strong>Proporciona contexto:</strong> Explica el dominio y objetivos del negocio</li>
                    <li><strong>Itera en el resultado:</strong> Refina con prompts de seguimiento</li>
                    <li><strong>Configura herramientas:</strong> Habilita solo las que necesites</li>
                    <li><strong>Revisa antes de confirmar:</strong> Siempre valida comandos críticos</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        let currentTab = 0;
        let selectedTool = null;
        let demoRunning = false;

        const toolDetails = {
            'codebase': {
                title: '🏗️ Codebase Tool',
                description: 'Analiza toda la estructura y contenido del proyecto para entender la arquitectura, dependencias y patrones utilizados.',
                example: 'Agent: Analizando #codebase...\nEncontrado: React app con TypeScript\nArquitectura: Components, hooks, services\nDependencias: React 18, Axios, Material-UI'
            },
            'fetch': {
                title: '🌐 Fetch Tool',
                description: 'Obtiene contenido de URLs externas para incorporar documentación, APIs o recursos externos al contexto.',
                example: 'Agent: Obteniendo #fetch https://api.docs.com/v1\nContenido: API documentation retrieved\nFormato: OpenAPI 3.0 specification\nEndpoints: 15 endpoints encontrados'
            },
            'search': {
                title: '🔍 Search Tool',
                description: 'Busca patrones específicos, funciones o archivos dentro del workspace usando consultas inteligentes.',
                example: 'Agent: Ejecutando #search "useState"\nResultados: 23 archivos encontrados\nPatrones: Hook usage, state management\nArchivos principales: UserForm.tsx, Dashboard.tsx'
            },
            'terminal': {
                title: '⚡ Terminal Tool',
                description: 'Ejecuta comandos de terminal para instalar dependencias, ejecutar tests, builds y otras tareas de desarrollo.',
                example: 'Agent: Ejecutando #terminal "npm install express"\n✓ express@4.18.2 instalado\nAgent: Ejecutando tests...\n✓ 15 tests passed, 0 failed'
            },
            'findTestFiles': {
                title: '🧪 Find Test Files Tool',
                description: 'Localiza y analiza archivos de pruebas existentes para entender la estrategia de testing del proyecto.',
                example: 'Agent: Buscando #findTestFiles...\nEncontrado: Jest configuration\nArchivos: 12 test files (.test.tsx)\nCobertura: 78% coverage actual'
            },
            'githubRepo': {
                title: '📂 GitHub Repo Tool',
                description: 'Accede a repositorios de GitHub para obtener código de referencia, documentación o ejemplos.',
                example: 'Agent: Accediendo #githubRepo react/react\nAnalizado: Latest React patterns\nReferencias: Best practices obtenidas\nEjemplos: Hook patterns aplicables'
            },
            'usages': {
                title: '🔗 Usages Tool',
                description: 'Encuentra todos los lugares donde se usa una función, variable o componente específico en el proyecto.',
                example: 'Agent: Buscando #usages "UserService"\nEncontrado en: 8 archivos\nUsos: API calls, data fetching\nDependencias: Auth, validation'
            },
            'mcp': {
                title: '🔌 MCP Tools',
                description: 'Conecta herramientas externas usando Model Context Protocol para extender las capacidades de Agent Mode.',
                example: 'Agent: Conectando MCP tools...\nDisponible: Database tool, AWS CLI\nAcceso: Production monitoring\nFunciones: Deploy, logs, metrics'
            }
        };

        function showTab(tabIndex) {
            // Ocultar todos los contenidos
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // Remover active de todos los tabs
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Mostrar el contenido seleccionado
            contents[tabIndex].classList.add('active');
            tabs[tabIndex].classList.add('active');
            
            currentTab = tabIndex;
        }

        function selectTool(element, toolId) {
            // Remover selección anterior
            document.querySelectorAll('.tool-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Activar herramienta seleccionada
            element.classList.add('active');
            selectedTool = toolId;
            
            // Mostrar detalles
            const detailsDiv = document.getElementById('toolDetails');
            const details = toolDetails[toolId];
            
            document.getElementById('toolTitle').textContent = details.title;
            document.getElementById('toolDescription').textContent = details.description;
            document.getElementById('toolExample').textContent = details.example;
            
            detailsDiv.style.display = 'block';
        }

        function simulateAgent() {
            const input = document.querySelector('.agent-input');
            const log = document.getElementById('agentLog');
            
            if (!input.value.trim()) {
                alert('Por favor, escribe una instrucción para Agent Mode');
                return;
            }
            
            log.innerHTML = '';
            
            const steps = [
                { type: 'planning', text: '🧠 Analizando solicitud: "' + input.value + '"' },
                { type: 'planning', text: '📋 Creando plan de implementación...' },
                { type: 'executing', text: '🔍 Analizando codebase con #codebase' },
                { type: 'executing', text: '⚡ Ejecutando: npm install dependencies' },
                { type: 'executing', text: '📝 Creando archivos de estructura...' },
                { type: 'executing', text: '🧪 Ejecutando tests con #findTestFiles' },
                { type: 'success', text: '✅ Tarea completada exitosamente!' }
            ];
            
            let stepIndex = 0;
            
            const interval = setInterval(() => {
                if (stepIndex < steps.length) {
                    const step = steps[stepIndex];
                    const entry = document.createElement('div');
                    entry.className = `log-entry ${step.type}`;
                    entry.textContent = step.text;
                    log.appendChild(entry);
                    log.scrollTop = log.scrollHeight;
                    stepIndex++;
                } else {
                    clearInterval(interval);
                }
            }, 1000);
        }

        function runScenario(scenario) {
            if (demoRunning) return;
            
            demoRunning = true;
            const log = document.getElementById('interactiveLog');
            const progress = document.getElementById('demoProgress');
            const results = document.getElementById('demoResults');
            const summary = document.getElementById('resultSummary');
            
            log.innerHTML = '';
            results.style.display = 'none';
            progress.style.width = '0%';
            
            const scenarios = {
                'webapp': {
                    name: 'Crear Web App',
                    steps: [
                        '🎯 Planificando aplicación web con React + Node.js',
                        '🏗️ Analizando estructura del proyecto con #codebase',
                        '📦 Instalando dependencias: React, Express, MongoDB',
                        '🔧 Creando estructura de directorios',
                        '⚙️ Configurando backend API con Express',
                        '🎨 Implementando componentes React',
                        '🔒 Añadiendo autenticación JWT',
                        '🧪 Ejecutando tests con Jest',
                        '✅ Aplicación web lista y funcionando'
                    ],
                    summary: 'Aplicación web completa creada con React frontend, Node.js backend, autenticación JWT, base de datos MongoDB y testing suite completo.'
                },
                'api': {
                    name: 'Crear API REST',
                    steps: [
                        '🎯 Diseñando API REST con OpenAPI specification',
                        '🔍 Analizando modelos de datos existentes',
                        '📦 Instalando Express, Joi, Swagger',
                        '🛣️ Configurando rutas y middleware',
                        '🔐 Implementando autenticación y autorización',
                        '📊 Añadiendo validación de datos con Joi',
                        '📚 Generando documentación con Swagger',
                        '🧪 Creando tests de integración',
                        '✅ API REST completa y documentada'
                    ],
                    summary: 'API REST completa con autenticación, validación, documentación Swagger, tests de integración y manejo de errores robusto.'
                },
                'testing': {
                    name: 'Añadir Testing',
                    steps: [
                        '🎯 Evaluando estrategia de testing actual',
                        '🔍 Encontrando archivos existentes con #findTestFiles',
                        '📦 Instalando Jest, Testing Library, Cypress',
                        '🧪 Creando tests unitarios para componentes',
                        '🔗 Implementando tests de integración',
                        '🌐 Configurando tests E2E con Cypress',
                        '📊 Configurando coverage reports',
                        '⚙️ Añadiendo scripts de CI/CD',
                        '✅ Suite de testing completa implementada'
                    ],
                    summary: 'Testing completo implementado: tests unitarios (95% coverage), tests de integración, tests E2E, y configuración de CI/CD.'
                }
            };
            
            const scenario_data = scenarios[scenario];
            let stepIndex = 0;
            
            const interval = setInterval(() => {
                if (stepIndex < scenario_data.steps.length) {
                    const entry = document.createElement('div');
                    entry.className = 'log-entry executing';
                    entry.textContent = scenario_data.steps[stepIndex];
                    log.appendChild(entry);
                    log.scrollTop = log.scrollHeight;
                    
                    const progressPercent = ((stepIndex + 1) / scenario_data.steps.length) * 100;
                    progress.style.width = progressPercent + '%';
                    
                    stepIndex++;
                } else {
                    clearInterval(interval);
                    summary.textContent = scenario_data.summary;
                    results.style.display = 'block';
                    demoRunning = false;
                }
            }, 800);
        }

        function clearDemo() {
            const log = document.getElementById('interactiveLog');
            const progress = document.getElementById('demoProgress');
            const results = document.getElementById('demoResults');
            
            log.innerHTML = '<div class="log-entry">🤖 Selecciona un escenario para comenzar...</div>';
            progress.style.width = '0%';
            results.style.display = 'none';
            demoRunning = false;
        }

        // Navegación con teclado
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft' && currentTab > 0) {
                showTab(currentTab - 1);
            } else if (event.key === 'ArrowRight' && currentTab < 4) {
                showTab(currentTab + 1);
            }
        });

        // Inicializar
        showTab(0);
    </script>
</body>
</html>="demo-main">
                    <h2 class="demo-title">¿Qué es Agent Mode?</h2>
                    <p style="font-size: 1.1em; line-height: 1.6; color: #64748b; margin-bottom: 25px;">
                        Agent Mode es el modo más avanzado de Copilot Chat. Te permite dar instrucciones de alto nivel y 
                        dejar que la IA planifique, ejecute y itere autónomamente hasta completar la tarea.
                    </p>

                    <textarea class="agent-input" placeholder="Ejemplo: Crea una aplicación web de blog con React y Node.js, incluye autenticación y base de datos" rows="3"></textarea>
                    <button class="execute-button" onclick="simulateAgent()">🤖 Ejecutar con Agent Mode</button>

                    <div class="agent-log" id="agentLog">
                        <div class="log-entry">💬 Esperando instrucciones...</div>
                    </div>
                </div>

                <div class="demo-sidebar">
                    <h4>🎯 Características Clave</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 10px;">🧠 <strong>Planificación autónoma</strong></li>
                        <li style="margin-bottom: 10px;">🔧 <strong>Uso de herramientas</strong></li>
                        <li style="margin-bottom: 10px;">🔄 <strong>Iteración inteligente</strong></li>
                        <li style="margin-bottom: 10px;">🎯 <strong>Corrección automática</strong></li>
                        <li style="margin-bottom: 10px;">📊 <strong>Análisis contextual</strong></li>
                    </ul>

                    <h4 style="margin-top: 25px;">⚡ Acceso Rápido</h4>
                    <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 6px; font-family: 'Consolas', monospace;">
                        Ctrl + Alt + I<br>
                        → Seleccionar "Agent"
                    </div>
                </div>
            </div>

            <div class="capabilities-grid">
                <div class="capability-card">
                    <div class="capability-icon">🧠</div>
                    <div class="capability-title">Planificación Inteligente</div>
                    <div class="capability-description">
                        Analiza tu solicitud y crea un plan detallado de implementación, 
                        determinando qué archivos crear o modificar.
                    </div>
                </div>

                <div class="capability-card">
                    <div class="capability-icon">🔧</div>
                    <div class="capability-title">Ejecución de Herramientas</div>
                    <div class="capability-description">
                        Utiliza herramientas especializadas como terminal, búsqueda de código, 
                        tests y APIs para completar tareas complejas.
                    </div>
                </div>

                <div class="capability-card">
                    <div class="capability-icon">🔄</div>
                    <div class="capability-title">Iteración Automática</div>
                    <div class="capability-description">
                        Detecta errores y problemas automáticamente, iterando para 
                        resolverlos hasta completar la tarea exitosamente.
                    </div>
                </div>

                <div class="capability-card">
                    <div class="capability-icon">🎯</div>
                    <div class="capability-title">Contexto Global</div>
                    <div class="capability-description">
                        Entiende todo tu workspace, desde la arquitectura hasta 
                        dependencias, para tomar decisiones informadas.
                    </div>
                </div>
            </div>

            <div class="workflow-visualization">
                <h3 style="text-align: center; margin-bottom: 30px; color: #1e293b;">Flujo de Trabajo Agent Mode</h3>
                <div class="workflow-steps">
                    <div class="workflow-step">
                        <div class="step-circle">1</div>
                        <div class="step-title">Análisis</div>
                        <div class="step-description">Entiende la solicitud y analiza el workspace</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-circle">2</div>
                        <div class="step-title">Planificación</div>
                        <div class="step-description">Crea un plan detallado de implementación</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-circle">3</div>
                        <div class="step-title">Ejecución</div>
                        <div class="step-description">Implementa cambios usando herramientas</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-circle">4</div>
                        <div class="step-title">Validación</div>
                        <div class="step-description">Verifica resultados y corrige errores</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 1: Herramientas -->
        <div class="tab-content">
            <h2 style="text-align: center; margin-bottom: 30px; color: #1e293b;">🛠️ Herramientas de Agent Mode</h2>
            <p style="text-align: center; margin-bottom: 40px; color: #64748b; max-width: 800px; margin-left: auto; margin-right: auto;">
                Agent Mode puede utilizar múltiples herramientas especializadas para completar tareas complejas. 
                Haz clic en cada herramienta para conocer más detalles.
            </p>

            <div class="tools-showcase">
                <div class="tool-item" onclick="selectTool(this, 'codebase')">
                    <div class="tool-icon">🏗️</div>
                    <div class="tool-name">#codebase</div>
                    <div class="tool-description">Analiza todo el código del proyecto</div>
                </div>

                <div class="tool-item" onclick="selectTool(this, 'fetch')">
                    <div class="tool-icon">🌐</div>
                    <div class="tool-name">#fetch</div>
                    <div class="tool-description">Obtiene contenido de URLs</div>
                </div>

                <div class="tool-item" onclick="selectTool(this, 'search')">
                    <div class="tool-icon">🔍</div>
                    <div class="tool-name">#search</div>
                    <div class="tool-description">Busca en el workspace</div>
                </div>

                <div class="tool-item" onclick="selectTool(this, 'terminal')">
                    <div class="tool-icon">⚡</div>
                    <div class="tool-name">#terminal</div>
                    <div class="tool-description">Ejecuta comandos de terminal</div>
                </div>

                <div class="tool-item" onclick="selectTool(this, 'findTestFiles')">
                    <div class="tool-icon">🧪</div>
                    <div class="tool-name">#findTestFiles</div>
                    <div class="tool-description">Localiza archivos de pruebas</div>
                </div>

                <div class="tool-item" onclick="selectTool(this, 'githubRepo')">
                    <div class="tool-icon">📂</div>
                    <div class="tool-name">#githubRepo</div>
                    <div class="tool-description">Accede a repositorios GitHub</div>
                </div>

                <div class="tool-item" onclick="selectTool(this, 'usages')">
                    <div class="tool-icon">🔗</div>
                    <div class="tool-name">#usages</div>
                    <div class="tool-description">Encuentra usos de funciones/variables</div>
                </div>

                <div class="tool-item" onclick="selectTool(this, 'mcp')">
                    <div class="tool-icon">🔌</div>
                    <div class="tool-name">MCP Tools</div>
                    <div class="tool-description">Herramientas de terceros vía MCP</div>
                </div>
            </div>

            <div id="toolDetails" style="background: #f8fafc; padding: 30px; border-radius: 15px; margin-top: 30px; display: none;">
                <h3 id="toolTitle" style="color: #1e293b; margin-bottom: 15px;"></h3>
                <p id="toolDescription" style="color: #64748b; line-height: 1.6; margin-bottom: 20px;"></p>
                <div id="toolExample" style="background: #1e293b; color: #10b981; padding: 15px; border-radius: 8px; font-family: 'Consolas', monospace;"></div>
            </div>

            <div class="pro-tips">
                <h4>💡 Tips para Usar Herramientas</h4>
                <ul class="tip-list">
                    <li><strong>Referencia directa:</strong> Usa # seguido del nombre de la herramienta en tu prompt</li>
                    <li><strong>Configuración:</strong> Haz clic en el icono Tools para configurar qué herramientas usar</li>
                    <li><strong>Confirmación:</strong> Agent Mode pide confirmación antes de ejecutar comandos críticos</li>
                    <li><strong>Iteración:</strong> Las herramientas se usan múltiples veces hasta completar la tarea</li>
                    <li><strong>MCP:</strong> Conecta herramientas externas usando Model Context Protocol</li>
                </ul>
            </div>
        </div>

        <!-- Tab 2: Ejemplos -->
        <div class="tab-content">
            <h2 style="text-align: center; margin-bottom: 30px; color: #1e293b;">💡 Ejemplos Prácticos</h2>
            
            <div class="examples-section">
                <div class="example-card">
                    <h4 style="color: #059669; margin-bottom: 15px;">🚀 Crear Aplicación Completa</h4>
                    <div class="example-prompt">
                        "Crea una aplicación de gestión de tareas con React, Node.js y MongoDB. 
                        Incluye autenticación, CRUD de tareas y deploy en Vercel."
                    </div>
                    <div class="example-result">
                        <strong>Resultado:</strong> Agent Mode creará la estructura del proyecto, configurará React y Node.js, 
                        implementará autenticación JWT, creará APIs REST, configurará MongoDB, 
                        añadirá tests y configurará el deploy automático.
                    </div>
                </div>

                <div class="example-card">
                    <h4 style="color: #059669; margin-bottom: 15px;">🔄 Migración de Tecnología</h4>
                    <div class="example-prompt">
                        "Migra esta aplicación de JavaScript a TypeScript, 
                        añade tipos estrictos y configura el build process."
                    </div>
                    <div class="example-result">
                        <strong>Resultado:</strong> Analizará todo el código, convertirá archivos .js a .ts, 
                        añadirá tipos TypeScript, configurará tsconfig.json, 
                        actualizará scripts de build y corregirá errores de tipos.
                    </div>
                </div>

                <div class